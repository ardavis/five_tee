$("#duration-modal-body").html("<%=j render 'duration_update' %>");
current_duration = $('input#duration_update_input').val()
var hours = Math.floor(current_duration / 3600)
var min = Math.floor(current_duration / 60 % 60)
var sec = current_duration % 60

$("input[name='hours_input']").TouchSpin({
  verticalbuttons: true,
  prefix: "hours: ",
  max: 99,
  min: 0,
  initval: hours
});
$("input[name='mins_input']").TouchSpin({
  verticalbuttons: true,
  prefix: "Minutes: ",
  max: 59,
  min: 0,
  initval: min
});
$("input[name='secs_input']").TouchSpin({
  verticalbuttons: true,
  prefix: "Seconds: ",
  max: 59,
  min: 0,
  initval: sec
});

$('.duration_input').on('input', function() {
  duration = $("input[name='hours_input']").val() * 3600;
  duration += $("input[name='mins_input']").val() % 60 * 60;
  duration += $("input[name='secs_input']").val() % 60;
  console.log(duration)
  $('#duration_submit').val(duration);
});

$('.bootstrap-touchspin-up, .bootstrap-touchspin-down').click (function(){
  duration = $("input[name='hours_input']").val() * 3600;
  duration += $("input[name='mins_input']").val() % 60 * 60;
  duration += $("input[name='secs_input']").val() % 60;
  console.log(duration)
  $('#duration_submit').val(duration);
});


$('#durationModal').modal('toggle');
